# âœ… TensorFlow 2.15.0 ê¸°ë°˜ ì´ë¯¸ì§€
FROM tensorflow/tensorflow:2.15.0

# âœ… ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ (ffmpeg í¬í•¨)
RUN apt-get update && apt-get install -y \
    ffmpeg \
    git \
    build-essential \
    && apt-get clean

# âœ… ğŸ”¥ ì¶©ëŒ ë°©ì§€: ì‹œìŠ¤í…œì— ê¹”ë¦° blinker ì œê±°
RUN apt-get remove -y python3-blinker || true

# âœ… ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì •
WORKDIR /app

# âœ… í”„ë¡œì íŠ¸ ì „ì²´ ë³µì‚¬ (run.sh, requirements.txt í¬í•¨)
COPY . /app

# âœ… pip ì—…ê·¸ë ˆì´ë“œ ë° requirements ì„¤ì¹˜
RUN pip install --upgrade pip
RUN pip install --break-system-packages -r requirements.txt

# âœ… ê¸°ë³¸ ì‹¤í–‰ ëª…ë ¹ì–´ëŠ” bash ì…¸
CMD ["bash"]
